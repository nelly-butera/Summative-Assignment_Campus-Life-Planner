<!DOCTYPE html>
<html lang="en" data-theme="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pure JS Task Manager App</title>
    <!-- Link to the external CSS file -->
    <link rel="stylesheet" href="style.css">
</head>
<body id="app-body">

    <!-- Navigation Bar -->
    <nav id="navbar" class="navbar shadow-lg">
        <div class="container navbar-content">
            <!-- Title -->
            <div class="flex-shrink-0">
                <span class="nav-title">Task Planner</span>
            </div>

            <!-- Main Navigation Links -->
            <div class="nav-links">
                <a href="#dashboard" onclick="showPage('dashboard')" id="nav-dashboard"
                   class="nav-item active">
                    Dashboard
                </a>
                <a href="#form" onclick="showPage('form')" id="nav-form"
                   class="nav-item">
                    Add/Edit Form
                </a>
                <a href="#about" onclick="showPage('about')" id="nav-about"
                   class="nav-item">
                    About App
                </a>
            </div>

            <!-- Dark Mode Toggle Button -->
            <div class="flex-shrink-0">
                <button id="theme-toggle" onclick="toggleTheme()" class="theme-toggle" aria-label="Toggle dark/light mode">
                    <!-- Sun Icon (Light Mode) -->
                    <svg id="sun-icon" class="theme-icon" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z" />
                    </svg>
                    <!-- Moon Icon (Dark Mode) -->
                    <svg id="moon-icon" class="theme-icon" fill="none" viewBox="0 0 24 24" stroke="currentColor" style="display: none;">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z" />
                    </svg>
                </button>
            </div>
        </div>
    </nav>

    <!-- Main Content Area -->
    <main class="container">

        <!-- 1. Dashboard Section (Task List) -->
        <section id="dashboard" class="page-section active">
            <h2 class="text-3xl font-extrabold mb-6">Your Scheduled Tasks</h2>
            <div id="file-toolbar" style="display: flex; justify-content: flex-end; gap: 0.75rem; margin-bottom: 1rem;">
                <button id="export-json-btn" class="btn btn-primary">Export JSON</button>
                <button id="export-csv-btn" class="btn btn-edit">Export CSV</button>
                <button id="import-json-btn" class="btn btn-secondary">Import JSON</button>
                <input type="file" id="import-json-input" accept=".json" style="display:none;">
            </div>



            <div id="task-list" class="dashboard-grid">
                <!-- Task Cards will be rendered here by JavaScript -->
            </div>
        </section>

        <!-- 2. Add/Edit Form Section -->
        <section id="form" class="page-section">
            <div class="form-container">
                <h2 id="form-title" class="text-3xl font-extrabold mb-6">Add New Task</h2>
                <div id="form-message" class="alert-box" style="display: none;"></div>

                <form id="task-form">
                    <input type="hidden" id="task-id" value="">
                    
                    <div class="form-group">
                        <label for="title" class="form-label">Task Title</label>
                        <input type="text" id="title" name="title" required placeholder="e.g., Group Study Session" class="form-input">
                    </div>
                    
                    <div class="form-group">
                        <label for="dueDate" class="form-label">Due Date</label>
                        <input type="date" id="dueDate" name="dueDate" required class="form-input">
                    </div>
                    

                    <!-- Start Time -->
                    <div class="form-group time-section">
                    <label>Start Time:</label>
                    <div class="time-select">
                        <select id="startHour">
                        <option value="">HH</option>
                        </select>
                        <span>:</span>
                        <select id="startMinute">
                        <option value="">MM</option>
                        </select>
                    </div>
                    </div>

                    <!-- End Time -->
                    <div class="form-group time-section">
                    <label>End Time:</label>
                    <div class="time-select">
                        <select id="endHour">
                        <option value="">HH</option>
                        </select>
                        <span>:</span>
                        <select id="endMinute">
                        <option value="">MM</option>
                        </select>
                    </div>
                    </div>

                    <!-- Auto Duration -->
                    <div class="form-group">
                    <label>Duration (minutes):</label>
                    <input type="number" id="duration" readonly>
                    </div>


                    <div class="form-group">
                        <label for="tag" class="form-label">Tag/Category</label>
                        <select id="tag" name="tag" class="form-select" required>
                            <option value="Study">Study</option>
                            <option value="Work">Work</option>
                            <option value="Personal">Personal</option>
                            <option value="Health">Health</option>
                            <option value="Other">Other</option>
                        </select>
                    </div>

                    <div style="display: flex; justify-content: flex-end; gap: 0.75rem;">
                        <button type="button" id="form-reset-btn" class="btn btn-edit" onclick="clearForm()">
                            Cancel / Clear
                        </button>
                        <button type="submit" id="form-submit-btn" class="btn btn-primary">
                            Add Task
                        </button>
                    </div>
                </form>
            </div>
        </section>

        <!-- 3. About App Section -->
        <section id="about" class="page-section">
            <div class="form-container" style="max-width: 800px; text-align: center;">
                <h2 class="text-3xl font-extrabold mb-4">About This Application</h2>
                <p style="font-size: 1.125rem; margin-bottom: 1.5rem;">
                    This application is a demonstration of a responsive Single-Page Application (SPA) built exclusively with HTML, pure CSS, and vanilla JavaScript.
                </p>
                <ul style="list-style: disc; text-align: left; max-width: 400px; margin: 0 auto 2rem;">
                    <li>**No Frameworks:** No libraries, no Tailwind, no React/Vue/Angular.</li>
                    <li>**Theme Toggle:** Supports Light and Dark modes using CSS variables and the `data-theme` attribute.</li>
                    <li>**Persistence:** Task data is stored using the browser's native `localStorage`.</li>
                    <li>**Task Management:** Full CRUD (Create, Read, Update, Delete) functionality for tasks.</li>
                </ul>
                <p style="font-size: 0.875rem; color: #6b7280;">
                    Task Data Model Used: { id, title, dueDate, duration, tag, createdAt, updatedAt }
                </p>
            </div>
        </section>

    </main>

    <!-- Modal Container for Confirmation (Replaces native confirm()) -->
    <div id="custom-modal" class="modal-backdrop">
        <div class="modal-content">
            <p id="modal-message"></p>
            <div class="modal-actions">
                <button id="modal-cancel-btn" class="btn btn-edit">Cancel</button>
                <button id="modal-confirm-btn" class="btn btn-delete">Delete</button>
            </div>
        </div>
    </div>

    <!-- Link to the external JavaScript file -->
    <script src="planner.js"></script>

</body>
</html>
